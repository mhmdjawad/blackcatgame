let l=32;
var q={eb:[{h:[0,0,140,0,0,0,140,0,0,255,158,158,158,0,0,0,0,51,2,1,2,58,239,0,32,88,1,157,2],p:[1,1,1,1],c:[{n:[161,,,,,,,,,,,,,,,,163,,,,,,,,159],f:[]}]},{h:[0,91,128,0,0,95,128,12,0,0,12,0,72,0,0,0,0,0,0,0,2,255,0,0,32,83,3,130,4],p:[1,1,2,1],c:[{n:[144,,151,,149,,147,,146,,147,,146,,144,,144,,151,,149,,147,,146,,147,,146,,144],f:[]},{n:[156,,163,,161,,159,,158,,159,,158,,156,,156,,163,,161,,159,,158,,159,,158,,168],f:[]}]},{h:[0,16,133,0,0,28,126,12,0,0,2,0,60,0,0,0,0,0,0,0,2,91,0,0,32,47,3,157,
2],p:[1,2,1,2],c:[{n:[144,,151,,149,,147,,146,,147,,146,,144,,144,,151,,149,,147,,146,,147,,146,,144],f:[]},{n:[168,,175,,173,,171,,170,,171,,170,,168,,168,,175,,173,,171,,170,,171,,170,,168],f:[]}]},{h:[0,255,116,79,0,255,116,0,83,0,4,6,69,52,0,0,0,0,0,0,2,14,0,0,32,0,0,0,0],p:[1,1,1,1],c:[{n:[144,,151,,149,,147,,146,,147,,146,,144,,144,,151,,149,,147,,146,,147,,146,,144,,,159,,,,159,,,,159,,,,,,,,,,,,159,,159],f:[]}]}],Pa:8269,Oa:32,Va:3,Za:4};
function aa(a,b,c){const d=[];for(let e=0;70>e;e++){const f=2*Math.PI*e/70;d.push({x:a+c*Math.cos(f),y:b+c*Math.sin(f)})}return d}
function ba(a){function b(A){return r(d,A[0],A[1],A[2],A[3])}function c(A,B,I,D,C){var x=z(d);x.g.drawImage(k,e.pa[0],e.pa[1]+(A?-2:0));x.g.drawImage(n,e.va[0],e.va[1]+(B?-2:0));I?x.g.drawImage(g,e.ca[0],e.ca[1]+4):x.g.drawImage(f,e.ca[0],e.ca[1]);D?x.g.drawImage(t,e.Y[0],e.Y[1]-4):x.g.drawImage(u,e.Y[0],e.Y[1]);C?x.g.drawImage(y,e.ba[0],e.ba[1]-4):x.g.drawImage(m,e.ba[0],e.ba[1]);return x}var d=z(a.Sa);a=[];var e={ca:[27,20,4,6],pa:[7,29,8,3],va:[17,29,8,3],Y:[5,15,5,7],ba:[22,15,5,7]},f=b(e.ca),
g=F(f),k=b(e.pa),n=b(e.va),u=b(e.Y),t=F(u),m=b(e.ba),y=F(m);for(var v in e){var p=e[v];d.g.clearRect(p[0],p[1],p[2],p[3])}v=[{L:0,N:0,O:0,K:0,M:0},{L:0,N:0,O:0,K:0,M:0},{L:1,N:0,O:0,K:0,M:1},{L:1,N:0,O:1,K:0,M:0},{L:0,N:1,O:0,K:1,M:0},{L:0,N:1,O:1,K:0,M:0}];for(let A in v)p=v[A],p=c(p.L,p.N,p.O,p.K,p.M),a.push(p);return a}class ca{constructor(a){a=z(a);a=H(a,b=>""==b||"#fff"==b||"#ffffff"==b?null:b);a=ma(a,1);this.Sa=r(a,0,0,32,32);r(a,32,0,32,32);this.Ka=r(a,0,32,64,64)}}
class na{constructor(a){var b=l,c=l,d=K("\ud83d\udccb",l,1.4);this.y=this.x=0;this.w=b;this.i=c;this.v=d;this.onclick=a}W(a){var b=a.x;a=a.y;if(b>=this.x&&b<=this.x+this.w&&a>=this.y&&a<=this.y+this.i){if(this.onclick)this.onclick(this);return!0}return!1}J(a){a.save();a.strokeStyle="#f00";a.lineWidth=2;a.strokeRect(this.x,this.y,this.w,this.i);a.restore();a.drawImage(this.v,this.x,this.y,this.w,this.i)}update(){}}
function oa(a,b){let c=a[0],d=b[c[0]][c[1]];for(const e of a){const [f,g]=e;b[f][g]<d&&(c=e,d=b[f][g])}return c}function pa(a,b){const c=[b];for(;a.hasOwnProperty(`${b[0]}-${b[1]}`);)b=a[`${b[0]}-${b[1]}`],c.unshift(b);return c}function qa(a,b,c){const d=[];0<b&&d.push([b-1,c]);b<a.rows-1&&d.push([b+1,c]);0<c&&d.push([b,c-1]);c<a.cols-1&&d.push([b,c+1]);return d}
function ra(a,b,c,d,e){b=Math.floor(b);c=Math.floor(c);d=Math.floor(d);e=Math.floor(e);const f=[],g=new Set,k={},n=Array(a.rows).fill(null).map(()=>Array(a.cols).fill(Infinity));n[b][c]=0;const u=Array(a.rows).fill(null).map(()=>Array(a.cols).fill(Infinity));u[b][c]=Math.abs(b-d)+Math.abs(c-e);for(f.push([b,c]);0<f.length;){b=oa(f,u);const [t,m]=b;if(t===d&&m===e)return pa(k,b);f.splice(f.indexOf(b),1);g.add(`${t}-${m}`);c=qa(a,t,m);for(const y of c){const [v,p]=y;g.has(`${v}-${p}`)||a.Ya[v][p]||
(c=n[t][m]+1,c<n[v][p]&&(k[`${v}-${p}`]=b,n[v][p]=c,u[v][p]=c+(Math.abs(v-d)+Math.abs(p-e)),f.includes(y)||f.push(y)))}}return null}class sa{constructor(a){this.Ya=a;this.rows=a.length;this.cols=a[0].length}}function ta(a=64,b=64){const c=L(a,b),d=c.g;d.fillStyle="#a67c52";d.fillRect(0,0,a,b);for(let e=0;e<a+b;e++){const f=N(0,a),g=N(0,b),k=N(2,5);d.globalAlpha=O(.15,.35);d.fillStyle=.5<O()?"#c2b280":"#7c5c36";d.beginPath();d.arc(f,g,k,0,2*Math.PI);d.fill()}d.globalAlpha=1;return c}
function ua(a=64,b=64){const c=L(a,b),d=c.g;d.fillStyle="#b0a99f";d.fillRect(0,0,a,b);const e=a/4;b/=4;for(let f=0;4>f;f++)for(let g=0;4>g;g++){let k=g*e+(1===f%2?e/2:0);if(k+e>a)continue;let n=f*b;d.fillStyle=.5<O()?"#d6d2c4":"#a59e91";d.fillRect(k,n,e-2,b-2);d.strokeStyle="#8d867a";d.lineWidth=1;d.strokeRect(k,n,e-2,b-2)}d.globalAlpha=1;return c}
function va(a=64,b=64){const c=L(a,b),d=c.g;d.fillStyle="#639bff";d.fillRect(0,0,a,b);for(let e=0;e<a+b;e++){const f=N(0,a),g=N(0,b),k=N(2,6);d.globalAlpha=O(.15,.35);d.fillStyle="#a3d8ff";d.beginPath();d.arc(f,g,k,0,2*Math.PI);d.fill()}d.globalAlpha=1;return c}function wa(a,b){var c=xa(),d={};a.Da.map(f=>d[f.c]=f.j);a=H(b,f=>""==f?null:f);b=L(64*l,64*l);var e=b.g;e.drawImage(c,0,0);for(let f=0;64>f;f++)for(let g=0;64>g;g++)c=d[a[g][f]],void 0!=c&&e.drawImage(c,f*l,g*l);return b}
function ya(a,b){var c={};for(var d in b)c[b[d].c]=b[d].o;b=[];for(d=0;d<a.length;d++){b[d]=[];for(var e=0;e<a[d].length;e++){var f=c[a[e][d]];b[d][e]=void 0!=f&&0==f?0:1}}return b}function za(a=64,b=64){const c=L(a,b),d=c.g;d.fillStyle="#4caf50";d.fillRect(0,0,a,b);for(let e=0;e<a+b;e++){const f=N(0,a),g=N(0,b),k=N(2,5);d.globalAlpha=O(.18,.38);d.fillStyle=.5<O()?"#81c784":"#388e3c";d.beginPath();d.arc(f,g,k,0,2*Math.PI);d.fill()}d.globalAlpha=1;return c}
function xa(){var a=64*l,b=64*l,c=l*l,d=[K("\ud83c\udf39",12,1.3),K("\ud83c\udf37",12,1.3),K("\ud83c\udf3b",12,1.3),K("\ud83c\udf3c",12,1.3),K("\ud83c\udf31",12,1.3)];const e=L(a,b);var f=e.g,g=za(a,b);f.fillStyle="#4caf50";f.drawImage(g,0,0);for(g=0;g<c;g++)f.drawImage(d[N(0,d.length)],N(0,a-12),N(0,b-12));return e}
class Aa{constructor(a){this.D=a;this.Fa=this.D.l.w;this.ch=this.D.l.i;var b=ta(l,l),c=ua(l,l),d=va(l,l),e=K("\ud83c\udf33",l,1.3),f=K("\ud83c\udfe1",2*l,1.3),g=K("\ud83c\udfe0",2*l,1.3),k=K("\u26ea",3*l,1.3),n=K("\ud83c\udfeb",3*l,1.3),u=K("\ud83c\udff0",4*l,1.3),t=K("\ud83c\udfea",3*l,1.3),m=K("\u26fa",3*l,1.3),y=Ba();this.Da=[{c:"#99e550",o:0,u:"",j:void 0},{c:"#639bff",o:1,u:"",j:d},{c:"#6abe30",o:1,u:"",j:e},{c:"#76428a",o:1,u:"house1",j:f},{c:"#d77bba",o:1,u:"house2",j:g},{c:"#d9a066",o:0,u:"",
j:b},{c:"#767676",o:1,u:"",j:y},{c:"#df7126",o:1,u:"castle",j:u},{c:"#8f974a",o:1,u:"church",j:k},{c:"#fbf236",o:1,u:"townhall",j:n},{c:"#ac3232",o:1,u:"store",j:t},{c:"#663931",o:0,u:"",j:c},{c:"#524b24",o:1,u:"tent",j:m}];this.Ta=H(a.wa.Ka,v=>""==v?null:v);this.map=wa(this,a.wa.Ka);this.Na=ya(this.Ta,this.Da);this.cb=new sa(this.Na)}J(a){let b=this.map,c;let d,e,f,g;var k=NaN-this.ch/2;c=NaN-this.Fa/2;0>=c&&(c=0);0>=k&&(k=0);c+this.w>b.width&&(c=b.width-this.Fa);k+this.i>b.height&&(k=b.height-this.ch);
d=f=this.w;e=g=this.i;a.drawImage(b,c,k,d,e,0,0,f,g)}}function Ca(a){var b=[];for(let c=2;5>=c;c++)b.push(a.da[c]);return b}class Da{constructor(a){this.da=ba(a.wa)}}function Ea(a){a.$=q;a.qa=q.Va;a.ha=0;a.Z=q.Pa*q.Oa*(a.qa+1)*2;a.G=new Int32Array(a.Z)}
function Fa(a,b,c){Ea(a);var d=()=>{var e,f,g,k,n,u,t=new Int32Array(a.Z);const m=a.$.eb[a.ha],y=a.$.Pa,v=a.$.Oa;let p=0,A=0;var B=!1;const I=[];for(g=0;g<=a.qa;++g){var D=m.p[g];for(k=0;k<v;++k){if(u=D?m.c[D-1].f[k]:0)m.h[u-1]=m.c[D-1].f[k+v]||0,17>u&&(I.length=0);const Oa=a.ra[m.h[16]],Pa=m.h[17]/512,Qa=2**(m.h[18]-9)/y,Ra=m.h[19],da=m.h[20],Sa=135.82764118168*m.h[21]/44100,Ta=1-m.h[22]/255,T=1E-5*m.h[23],Ua=m.h[24]/32,Va=m.h[25]/512,Wa=6.283184*2**(m.h[26]-9)/y,ea=m.h[27]/255,U=m.h[28]*y&-2;u=
(g*v+k)*y;for(n=0;4>n;++n)if(f=D?m.c[D-1].n[k+n*v]:0){if(!I[f]){var C=e=f;var x=a.ra[m.h[0]];const Xa=m.h[1],Ya=m.h[3]/32,Za=a.ra[m.h[4]],$a=m.h[5],ab=m.h[8]/32,fa=m.h[9],J=m.h[10]*m.h[10]*4,Q=m.h[11]*m.h[11]*4,V=m.h[12]*m.h[12]*4,bb=1/V,cb=-m.h[13]/16;let M=m.h[14];const db=y*2**(2-m.h[15]),ha=new Int32Array(J+Q+V);let ia=0,ja=0,ka=0,la=0;for(let G=0,W=0;G<J+Q+V;G++,W++){0<=W&&(M=M>>8|(M&255)<<4,W-=db,ka=.003959503758*2**((C+(M&15)+m.h[2]-128-128)/12),la=.003959503758*2**((C+(M&15)+m.h[6]-128-128)/
12)*(1+8E-4*m.h[7]));let E=1;G<J?E=G/J:G>=J+Q&&(E=(G-J-Q)*bb,E=(1-E)*3**(cb*E));ia+=ka*E**Ya;let X=x(ia)*Xa;ja+=la*E**ab;X+=Za(ja)*$a;fa&&(X+=(2*Math.random()-1)*fa);ha[G]=80*X*E|0}I[e]=ha}C=I[f];f=0;for(e=2*u;f<C.length;f++,e+=2)t[e]+=C[f]}for(f=0;f<y;f++)n=2*(u+f),(e=t[n])||B?(B=Sa,Ra&&(B*=Oa(Qa*n)*Pa+.5),B=1.5*Math.sin(B),p+=B*A,e=Ta*(e-A)-p,A+=B*e,e=3==da?A:1==da?e:p,T&&(e*=T,e=1>e?-1<e?a.Ma(.25*e):-1:1,e/=T),e*=Ua,B=1E-5<e*e,C=Math.sin(Wa*n)*Va+.5,x=e*(1-C),e*=C):x=0,n>=U&&(x+=t[n-U+1]*ea,e+=
t[n-U]*ea),t[n]=x|0,t[n+1]=e|0,a.G[n]+=x|0,a.G[n+1]+=e|0}}a.ha++;if(1==a.ha/a.$.Za){g=b.createBuffer(2,a.Z/2,44100);for(k=0;2>k;k++)for(D=g.getChannelData(k),t=k;t<a.Z;t+=2)D[t>>1]=a.G[t]/65536;return c(g)}requestAnimationFrame(d)};requestAnimationFrame(d)}
class Ga{constructor(){this.ra=[this.Ma,this.ab,this.$a,this.bb];this.$=null;this.Z=this.ha=this.qa=0;this.G=null}Ma(a){return Math.sin(6.283184*a)}$a(a){return a%1*2-1}ab(a){return.5>a%1?1:-1}bb(a){a=a%1*4;return 2>a?a-1:3-a}getData(a,b){const c=2*Math.floor(44100*a),d=Array(b);for(let e=0;e<2*b;e+=1){const f=c+e;d[e]=0<a&&f<this.G.length?this.G[f]/32768:0}return d}}
function Ha(a){const b=a.C.sampleRate;a=a.C.createBuffer(1,.3*b,b).getChannelData(0);for(var c=0;c<a.length;c++)a[c]=2*(Math.random()-.5);c=.29-.1;for(let d=0;d<a.length;d++){let e=d/b;.01>e?a[d]*=e/.01:.11>e?a[d]*=1-(e-.01)/.1*.8:e>.3-c&&(a[d]*=(.3-e)/c)}for(c=0;c<a.length;c++)a[c]*=Math.sin(c/b*Math.PI*2*(440+100*Math.random()))}
function Ia(a){const b=a.C.sampleRate;a=a.C.createBuffer(1,.5*b,b).getChannelData(0);for(var c=0;c<a.length;c++)a[c]=2*Math.random()-1;for(c=0;c<a.length;c++){let d=c/b;.05>d?a[c]*=d/.05:.25>d?a[c]*=1-(d-.05)/.2:.25<d&&(a[c]*=(.5-d)/.25)}}function Ja(a){a.B&&(a.B.stop(),a.B=null);a.za&&(a.B=a.C.createBufferSource(),a.B.buffer=a.za,a.B.connect(a.C.destination),a.B.loop=!0,a.B.start(0,a.ta),a.startTime=a.C.currentTime-a.ta)}
class Ka{constructor(){this.C=new (window.AudioContext||window.webkitAudioContext);new (window.AudioContext||window.webkitAudioContext);Ha(this);Ia(this);var a=new Ga;this.startTime=this.ta=0;Fa(a,this.C,b=>{this.za=b;Ja(this)})}}function z(a){var b=L(a.width,a.height);b.g.drawImage(a,0,0);return b}
function H(a,b){for(var c=a.getContext("2d").getImageData(0,0,a.width,a.height).data,d=[],e=0;e<c.length;e+=4){var f=d,g=f.push;var k=c[e];var n=c[e+1],u=c[e+2];k=0==k+n+u+c[e+3]?null:0==k+n+u||255<k||255<n||255<u?"#000000":"#"+((k<<16)+(n<<8)+u).toString(16).padStart(6,"0");g.call(f,k)}c=[];for(e=0;e<a.height;e++)c[e]=[];f=e=0;for(g=0;g<d.length;g++)e>=a.width&&(f++,e=0),c[f][e]=d[g],b&&(c[f][e]=b(c[f][e])),e++;return c}
function ma(a,b=1){let c=a.length,d=Math.max(...a.map(k=>k.length));var e=L(d*b,c*b),f=e.g;for(let k=0;k<c;k++)for(let n=0;n<d;n++){var g=a[k][n];g&&""!=g&&(f.fillStyle=g,f.fillRect(n*b,k*b,b,b))}return e}function r(a,b,c,d,e){let f=L(d,e);f.g.drawImage(a,b,c,d,e,0,0,d,e);return f}function F(a){let b=L(a.width,a.height),c=b.g;c.save();c.scale(1,-1);c.drawImage(a,0,0,a.width,-1*a.height);c.restore();return b}
function L(a=0,b=0){let c=document.createElement("canvas");c.width=a;c.height=b;c.w=a;c.i=b;c.g=c.getContext("2d");c.m={x:a/2,y:b/2};c.clear=()=>{c.g.clearRect(0,0,a,b)};c.fill=d=>{c.g.fillStyle=d;c.g.fillRect(0,0,a,b)};c.gb=d=>{d=c.g.createPattern(d,"repeat");c.g.fillStyle=d;c.g.fillRect(0,0,a,b)};return c}function K(a,b,c=1.3,d="#000",e="sans-serif"){let f=L(b,b);var g=f.g;g.font=`${b/c}px ${e}`;g.textAlign="center";g.textBaseline="middle";g.fillStyle=d;g.fillText(a,b/2,1.1*b/2);return f}
function Ba(){var a=L(8,8),b=a.g;b.fillStyle="#afafaf";b.fillRect(0,0,a.width,a.height);b.fillStyle="#6d6c6c";b.fillRect(7,0,1,4);b.fillRect(0,3,8,1);b.fillRect(4,4,1,4);b.fillRect(0,7,8,1);b=4;0==b&&(b=4);b=L(a.width*b,4*a.height);a=b.g.createPattern(a,"repeat");b.g.fillStyle=a;b.g.fillRect(0,0,b.w,b.i);return b}function N(a=1,b=0){return O(a,b)|0}function O(a=1,b=0){return b+(a-b)*Math.random()}
function La(a){var b="";for(var c=0;c<a;c++){b+="<tr>";for(var d=0;1>d;d++)b+="<td></td>";b+="</tr>"}a=document.createElement("table");a.innerHTML=b;b=[];c=a.querySelectorAll("tr");for(let e=0;e<c.length;e++)d=c[e].querySelectorAll("td"),d.forEach(f=>f.X=g=>f.innerHTML=g),b[e]=[...d];a.Ga=b;return a}function P(a,b,c,d=.8){a=a.toUpperCase();let e=L(b*a.length,b);for(let g=0;g<a.length;g++){var f=K(a[g],b,d,c,"cursive");e.g.drawImage(f,g*b,0)}return e}
function R(a){var b=document.createElement("div");b.innerHTML=a;return b.firstChild}function Ma(a=8,b=8){var c=L(a,b),d=c.g;d.fillStyle="#000";d.fillRect(0,0,c.width,c.height);d.fillStyle="#fff";for(let e=0;e<b;e++)for(let f=0;f<a;f++).001>Math.random()&&d.fillRect(f,e,1,1);return c}
function Na(a,b=null,c=null){var d=L(2*a+2,2*a+2),e=d.g;e.save();e.lineWidth=3;e.beginPath();e.arc(d.width/2,d.height/2,a,0,2*Math.PI,!1);null!=b&&(e.strokeStyle=b,e.stroke());null!=c&&(e.fillStyle=c,e.fill());e.restore();return d}function eb(a){var b="sh1.gif?"+Math.random(),c=new Image;c.src=b;c.addEventListener("load",()=>{a(c)})}
function fb(a){var b=L(a.w,a.i);b.fill("#fff");let c=L(a.width,a.height),d=c.g;d.drawImage(a,0,0);d.globalCompositeOperation="source-atop";for(let e=0;e<a.width/b.width;e++)for(let f=0;f<a.height/b.height;f++)d.drawImage(b,e*b.width,f*b.height);a=L(a.w+2,a.i+2);a.g.drawImage(c,0,0,a.w,a.i);return a}function gb(a){var b=l;return parseInt(a/b)*b+b/2}
function hb(a,b,c){var d=b.getBoundingClientRect();c(new S({x:b.width/d.width*(a.clientX-d.left)+window.scrollX,y:b.height/d.height*(a.clientY-d.top)+window.scrollY}))}function ib(a){a=H(a);return ma(a,2)}function jb(a,b,c=1){var d=a.y==b.y?0:a.y<b.y?c:-c;a.x+=a.x==b.x?0:a.x<b.x?c:-c;a.y+=d}function kb(a,b){let c;c=0+Math.pow(a.x-b.x,2);c+=Math.pow(a.y-b.y,2);return c=Math.sqrt(c)}class S{constructor(a){this.x=a.x;this.y=a.y}}
function Y(a){a.layout=R("<div class='layout'></div>");a.Xa=R("<div class='header'></div>");a.body=R("<div class='body'></div>");a.Wa=R("<div class='footer'></div>");a.layout.appendChild(a.Xa);a.layout.appendChild(a.body);a.layout.appendChild(a.Wa);document.body.innerHTML="";document.body.appendChild(a.layout)}
class lb{constructor(){this.ga={ja:!1,ib:!1,controls:!1};Y(this);var a=R("<div>Loading....</div>");this.body.append(a);this.fb=window.innerHeight/window.innerWidth;1<this.fb&&(l=32);this.Ha=document.createElement("div");document.body.innerHTML=""}}
class mb{constructor(a){this.D=a;this.speed=2;a=this.S=new Da(a);this.na=[a.da[0],a.da[1]];this.ea=Ca(this.S);this.animation={framerate:8,frame:0,la:0,xa:this.na};this.m=new S({x:3*l-l/2,y:5*l-l/2});this.ka=new S(this.m);this.v=this.na[0];this.ia=!1;this.destination=new S(this.m);this.sa=[]}update(){this.animation.xa=this.ia?this.ea:this.na;this.animation.frame++;this.animation.frame>=this.animation.framerate&&(this.animation.la>=this.animation.xa.length&&(this.animation.la=0),this.v=this.animation.xa[this.animation.la],
this.animation.la++,this.animation.frame=0);kb(this.destination,this.m)>=this.speed?jb(this.m,this.destination,this.speed):(this.m=new S(this.destination),this.ia=!1);if(0==kb(this.destination,this.m)&&0<this.sa.length){var a=this.sa.shift();this.destination=new S(a);this.ia=!0}}J(a){a.drawImage(this.v,this.m.x-this.v.w/2,this.m.y-this.v.i/2)}W(a){if(!(a.y<l)){var b=Math.floor(gb(Math.max(0,this.m.x-this.D.l.w/2)+a.x)/l);a=Math.floor(gb(Math.max(0,this.m.y-this.D.l.i/2)+a.y)/l);var c;if(c=0==this.ia){try{var d=
1==this.D.oa.Na[b][a]}catch(e){d=!0}c=!d}if(c){b=ra(this.D.oa.cb,Math.floor(this.m.x/l),Math.floor(this.m.y/l),b,a);d=[];if(1<b.length)for(c=1;c<b.length;c++)a=b[c],d.push(new S({x:a[0]*l+l/2,y:a[1]*l+l/2}));this.sa=d}}}}function nb(a){a.V=!0;a.U=!0;Y(a);var b=L(a.l.w,a.l.i);b.fill("#000");ob(a,b);a.body.append(b);Z(a)}function ob(a,b){function c(e){d.update(e);d.J(b);requestAnimationFrame(c)}var d=new pb(a);d.J(b);requestAnimationFrame(c)}
function Z(a){a.U=!0;null!=a.I&&a.I.remove();a.I=Object.assign(document.createElement("div"),{className:"menuDialog"});var b=[];a.V?b.push({X:"<button >New Game</button>",f:"newgame"}):b.push({X:"<button >Resume</button>",f:"resume"});b.push({X:`<button >Music ${a.ga.ja?"ON":"OFF"}</button>`,f:"music"});a.V||b.push({X:"<button >Quit</button>",f:"quit"});var c=La(b.length);for(let e in b){var d=R(b[e].X);d.style.width=`${.9*a.l.w}px`;d.style.fontSize="24pt";c.Ga[e][0].append(d);c.Ga[e][0].onclick=
()=>{var f=b[e].f;"newgame"==f?(a.U=!1,a.V=!1,qb(a)):"resume"==f?(a.U=!1,a.I.remove(),a.update(a.time)):"music"==f?(a.ma||(a.ma=new Ka),a.ga.ja?(f=a.ma,f.B&&(f.ta=f.C.currentTime-f.startTime,f.B.stop(),f.B=null)):Ja(a.ma),a.ga.ja=!a.ga.ja,a.I.remove(),Z(a)):"quit"==f&&(document.webkitIsFullScreen&&document.exitFullscreen(),a.U=!0,a.V=!0,a.I.remove(),nb(a))}}a.I.append(c);a.body.append(a.I)}
function qb(a){Y(a);a.body.innerHTML="";a.oa=new Aa(a);a.canvas=L(a.l.w,a.l.i);a.body.innerHTML="";a.body.appendChild(a.canvas);a.body.appendChild(a.Ha);a.ua=new mb(a);a.La=[new na(()=>{Z(a)})];a.aa=[a.ua];a.body.innerHTML="";a.body.appendChild(a.canvas);a.body.appendChild(a.Ha);a.update(0);window.addEventListener("keyup",d=>{"Escape"==d.key&&Z(a)});a.F=null;a.canvas.addEventListener("mousedown",d=>b(d));a.canvas.addEventListener("mouseup",()=>{a.F=null});a.canvas.addEventListener("mousemove",d=>
c(d));a.canvas.addEventListener("touchstart",d=>b(d));a.canvas.addEventListener("touchend",()=>{a.F=null});a.canvas.addEventListener("touchmove",d=>c(d));var b=d=>{hb(d.touches?d.touches[0]:d,a.canvas,e=>{a.F={x:e.x,y:e.y}})},c=d=>{a.F&&hb(d.touches?d.touches[0]:d,a.canvas,e=>{a.F={x:e.x,y:e.y}})}}
class rb extends lb{constructor(){super();this.l={w:600,i:600};eb(a=>{this.wa=new ca(a);this.aa=[];nb(this)})}update(a){if(1!=this.U){if(1==this.V)return this.hb();this.aa.forEach(d=>d.update(a));var b=z(this.oa.map),c=b.g;this.aa.sort((d,e)=>{let f,g;return d.ka?null==(f=d.ka)?void 0:f.y:Infinity-e.ka?null==(g=e.ka)?void 0:g.y:Infinity});this.aa.forEach(d=>d.J(c));b=r(b,Math.max(0,this.ua.m.x-this.l.w/2),Math.max(0,this.ua.m.y-this.l.i/2),this.l.w,this.l.i);this.canvas.fill("#fff");this.canvas.g.drawImage(b,
0,0);this.canvas.g.fillRect;this.La.forEach(d=>d.J(this.canvas.g));this.F&&(this.aa.forEach(d=>{d.W&&d.W(this.F)}),this.La.forEach(d=>{d.W&&d.W(this.F)}),this.F=null);this.time=a;requestAnimationFrame(d=>this.update(d))}}}function sb(a){var b="THE FAMILIAR".split(""),c=L(64*b.length,l+4),d=0;for(let g in b){var e=P(b[g],l,"#fff",1.1),f=P(b[g],l,"#b90000",1.1);c.g.drawImage(e,d+1,1);c.g.drawImage(f,d,0);d+=l}a.s={v:c,Ia:128,Ja:a.ya,R:0}}
class pb{constructor(a){this.D=a;this.S=new Da(a);this.Ea=P("BY MHMDJAWADZD",16,"#fff",1.5);this.Aa=this.S.da[0];this.Ba=fb(this.Aa);this.Ba.g.drawImage(this.Aa,1,1);this.canvas=L(a.l.w,a.l.i);ib(this.Ba);this.ea=Ca(this.S);this.Ca=this.ea.map(c=>fb(c));this.Ca.forEach((c,d)=>c.g.drawImage(this.ea[d],1,1));this.Ua=this.Ca.map(c=>ib(c));this.Qa=Ma(3*this.canvas.w,this.canvas.i);this.H=5;this.elements=[{j:K("\ud83d\udd25",32,1.3),c:"#ee4000c7",h:0,t:this.H},{j:K("\ud83d\udca7",32,1.3),c:"#00c7eec7",
h:10,t:this.H},{j:K("\ud83c\udf31",32,1.3),c:"#805a05c7",h:20,t:this.H},{j:K("\ud83c\udf2a\ufe0f",32,1.3),c:"#cdcf84c7",h:30,t:this.H},{j:K("\u26a1",32,1.3),c:"#f9ff30c7",h:40,t:this.H},{j:K("\u2600\ufe0f",32,1.3),c:"#f8ff00c7",h:50,t:this.H},{j:K("\ud83c\udf11",32,1.3),c:"#a83bf3c7",h:60,t:this.H}];this.P=Na(4*l,"#fff",null);Na(l/9,"#00f","#00f");a=this.canvas.i-this.P.i/2-l;var b={x:this.canvas.w/2,y:a,r:this.P.w/2};this.T=aa(b.x,b.y,b.r);console.log(this.T);this.fa=b;this.ya=a-this.P.i/2-l;this.A=
{Ra:this.Ua,current:0,frames:0,framerate:16,Ia:64,Ja:this.ya};sb(this)}J(a){a.g.drawImage(this.canvas,0,0)}update(){this.canvas.g.drawImage(this.Qa,0,0,N(0,this.Qa.w-this.canvas.w),this.canvas.i,0,0,this.canvas.w,this.canvas.i);this.canvas.g.drawImage(this.P,this.fa.x-this.P.w/2,this.fa.y-this.P.i/2);this.canvas.g.drawImage(this.A.Ra[this.A.current],this.fa.x-32,this.fa.y-32);this.A.frames++;this.A.frames>this.A.framerate&&(this.A.frames=0,this.A.current++,this.A.current>=this.A.Ra.length&&(this.A.current=
0));this.canvas.g.drawImage(this.s.v,0,0,this.s.R,this.s.v.i,this.s.Ia,this.s.Ja,this.s.R,this.s.v.i);this.s.R+=4;this.s.R>this.s.v.w&&(this.s.R=0);this.elements.forEach(a=>{var b=this.T[a.h%this.T.length];this.canvas.g.drawImage(a.j,b.x-a.j.w/2,b.y-a.j.i/2);var c=this.elements.filter(d=>d!=a)[N(this.elements.length-1)];c=this.T[c.h%this.T.length];this.canvas.g.save();this.canvas.g.strokeStyle=a.c;this.canvas.g.lineWidth=2;this.canvas.g.beginPath();this.canvas.g.moveTo(b.x,b.y);this.canvas.g.lineTo(c.x,
c.y);this.canvas.g.stroke();this.canvas.g.restore();a.t--;0>=a.t&&(a.t=this.H,a.h++)});this.canvas.g.drawImage(this.Ea,0,this.canvas.i-this.Ea.i)}}document.addEventListener("DOMContentLoaded",function(){window.D=new rb},!1);
